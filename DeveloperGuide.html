<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>EatMe Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">EatMe</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-W11-3/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>EatMe Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>AY1920S1-CS2103T-W11-3</code>      Since: <code>Sep 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#setting-up">1. Setting up</a></li>
<li><a href="#design">2. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">2.1. Architecture</a></li>
<li><a href="#Design-Ui">2.2. UI component</a></li>
<li><a href="#Design-Logic">2.3. Logic component</a></li>
<li><a href="#Design-Model">2.4. Model component</a></li>
<li><a href="#Design-Storage">2.5. Storage component</a></li>
<li><a href="#Design-Commons">2.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">3. Implementation</a>
<ul class="sectlevel2">
<li><a href="#add-eatery-feature-code-add-code">3.1. Add Eatery feature : <code>add</code></a></li>
<li><a href="#statistics-feature-code-stats-code">3.2. Statistics feature : <code>stats</code></a></li>
<li><a href="#review-eatery-feature">3.3. Review Eatery feature</a></li>
<li><a href="#edit-review-feature">3.4. Edit Review feature</a></li>
<li><a href="#delete-review-feature">3.5. Delete Review feature</a></li>
<li><a href="#add-tag-feature">3.6. Add Tag feature</a></li>
<li><a href="#delete-tag-feature">3.7. Delete Tag feature</a></li>
<li><a href="#close-eatery-feature">3.8. Close Eatery feature</a></li>
<li><a href="#reopen-eatery-feature">3.9. Reopen Eatery feature</a></li>
<li><a href="#changing-mode-of-eatme-feature">3.10. Changing Mode of EatMe feature</a></li>
<li><a href="#news-feed-feature">3.11. News Feed Feature</a></li>
<li><a href="#saving-todo-eatery-feature">3.12. Saving Todo Eatery feature</a></li>
<li><a href="#load-friend-s-eaterylist-feature">3.13. Load friend&#8217;s EateryList feature</a></li>
<li><a href="#logging">3.14. Logging</a></li>
<li><a href="#Implementation-Configuration">3.15. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">4. Documentation</a></li>
<li><a href="#testing">5. Testing</a></li>
<li><a href="#dev-ops">6. Dev Ops</a></li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">G.1. Launch and Shutdown</a></li>
<li><a href="#saving-an-eatery">G.2. Saving an eatery</a></li>
<li><a href="#deleting-an-eatery">G.3. Deleting an eatery</a></li>
<li><a href="#deleting-an-eatery-2">G.4. Deleting an Eatery</a></li>
<li><a href="#saving-data">G.5. Saving data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">1. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">2. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">2.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of the App. Given below is a quick overview of each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.puml</code> files used to create diagrams in this document can be found in the <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/docs/diagrams/">diagrams</a> folder.
Refer to the <a href="UsingPlantUml.html">Using PlantUML guide</a> to learn how to create and edit diagrams.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has two classes called <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/java/seedu/address/Main.java"><code>Main</code></a> and <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code>UI</code></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code>Logic</code></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code>Model</code></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code>Storage</code></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see the class diagram given below) defines it&#8217;s API in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 3. Component interactions for <code>delete 1</code> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">2.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>EateryListPanel</code>, <code>StatusBarFooter</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data so that the UI can be updated with the modified data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">2.3. Logic component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>EatMeParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding an <code>Eatery</code>).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code>.</p>
</li>
<li>
<p>In addition, the <code>CommandResult</code> object can also instruct the <code>Ui</code> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>delete 1</code> Command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>DeleteCommandParser</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">2.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the EateryList data.</p>
</li>
<li>
<p>stores the FeedList data.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;Eatery&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;FeedPost&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">2.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W11-3/main/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save <code>EateryList</code> data in json format and read it back.</p>
</li>
<li>
<p>can save <code>FeedList</code> data in json format and read it back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">2.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.eatme.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">3. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="add-eatery-feature-code-add-code"><a class="link" href="#add-eatery-feature-code-add-code">3.1. Add Eatery feature : <code>add</code></a></h3>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">3.1.1. Implementation</a></h4>
<div class="paragraph">
<p>The add feature allows the user to add an eatery with the compulsory fields: <code>Name</code>, <code>Address</code>, and <code>Category</code>. The <code>Tag</code> field(s), however, is an optional field. The user can add tag(s) to the eatery later on using the <code>addtag</code> feature, if needed. The add mechanism is facilitated by <code>EateryList</code>. It implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EateryList#hasEatery()</code>&#8201;&#8212;&#8201;Checks if an eatery with the same identity already exists in the eatery list.</p>
</li>
<li>
<p><code>EateryList#addEatery()</code>&#8201;&#8212;&#8201;Adds an eatery to the eatery list. The eatery must not already exist in the eatery list.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#hasEatery()</code> and <code>Model#addEatery()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the add mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>EateryList</code> will be initialized with the initial json data stored.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>add \n Two Chefs Eating Place \a 116 Commonwealth Cres, #01-129 \c Chinese</code> to add a new eatery. Before executing the command, the command would need to be parsed first. Hence, the <code>EatMeParser</code> would create <code>AddCommandParser</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the command is missing the name, address, or category (i.e. <code>\n</code>, <code>\a</code>, and <code>\c</code>), <code>AddCommandParser</code> will throw an <code>ParserException</code> to the user with an error message specifying that the command parameters are incorrect, and an example usage of the command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. <code>AddCommandParser</code> creates new objects for the different compulsory fields i.e. <code>Name</code>, <code>Address</code>, and <code>Category</code> (and also the <code>Tag</code>, if present), and passes these objects into the constructor for <code>Eatery</code> to create a new <code>Eatery</code>.</p>
</div>
<div class="paragraph">
<p>Step 4. <code>AddCommandParser</code> returns a new <code>AddCommand</code> with the newly created <code>Eatery</code> as a parameter.</p>
</div>
<div class="paragraph">
<p>Step 5. <code>AddCommand</code> calls <code>Model#hasEatery</code> to check if the eatery already exists. If it does exist, <code>AddCommand</code> will throw a CommandException specifying that there&#8217;s already a duplicate eatery in <code>EateryList</code>. Else, <code>AddCommand</code> will call <code>Model#addEatery</code> to add the eatery into <code>EateryList</code>.</p>
</div>
<div class="paragraph">
<p>Step 6. After successfully adding the eatery into <code>EateryList</code>, <code>AddCommand</code> will return the <code>CommandResult</code> to the <code>Ui</code>.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the add eatery feature is executed.
<span class="image"><img src="images/AddSequenceDiagram.png" alt="AddSequenceDiagram"></span></p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows the reference sequence diagram for creating <code>Eatery e</code>.
<span class="image"><img src="images/AddCreateSequenceDiagram.png" alt="AddCreateSequenceDiagram"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">3.1.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-add-executes"><a class="link" href="#aspect-how-add-executes">Aspect: How Add executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Making Tag field not final.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easily implemented.</p>
</li>
<li>
<p>More user-friendly as users would most likely want to delete or add new tags.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons: Does not follow the logic of the original Address Book 3 application. More code needs to be refactored.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Making Tag field final.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Follows the logic of the original Address Book 3 application; don&#8217;t need to refactor more code.</p>
</li>
<li>
<p>Cons: Not as user-friendly.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The edit feature allows the user to edit any fields from the selected eatery i.e. <code>Name</code>, <code>Address</code>, <code>Category</code>, and <code>Tag</code> field(s). This feature would replace existing <code>Name</code>, <code>Address</code>, <code>Category</code>, and <code>Tag</code> associated with the eatery, with the new ones inputted by the user. Hence, this feature is not advised for users who wants to add more tags to the current list of tags. The edit mechanism is facilitated by <code>EateryList</code>. It implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EateryList#setEatery()</code>&#8201;&#8212;&#8201;Replaces an eatery with another eatery in the <code>EateryList</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#setEatery()</code>.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the add mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>EateryList</code> will be initialized with the initial json data stored.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>edit 1 \a 116 Commonwealth Cres, #01-140</code> to edit the address of an existing eatery. Before executing the command, the command would need to be parsed first. Hence, the <code>EatMeParser</code> would create <code>EditCommandParser</code>.</p>
</div>
<div class="paragraph">
<p>Step 3. <code>EditCommandParser</code> creates <code>EditEateryDescriptor</code> using the parameters specified (i.e. address, in this scenario).</p>
</div>
<div class="paragraph">
<p>Step 4. <code>EditCommandParser</code> returns a new <code>EditCommand</code> with the newly created <code>EditEateryDescriptor</code> as a parameter.</p>
</div>
<div class="paragraph">
<p>Step 5. <code>EditCommand</code> creates a new <code>Eatery</code> using the existing <code>Eatery</code> to be edited and <code>EditEateryDescriptor</code>.</p>
</div>
<div class="paragraph">
<p>Step 6. If the newly created <code>Eatery</code> is not a duplicate of the existing <code>Eatery</code>, <code>EditCommand</code> calls <code>Model#hasEatery</code> to check if the eatery exists in the list. If the eatery is a duplicate or it exists in the list, <code>EditCommand</code> will throw a CommandException specifying that there&#8217;s already a duplicate eatery in <code>EateryList</code>. Else, <code>EditCommand</code> will call <code>Model#setEatery</code> to modify the eatery.</p>
</div>
<div class="paragraph">
<p>Step 7. After successfully editing the eatery, <code>EditCommand</code> will return the <code>CommandResult</code> to the <code>Ui</code>.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the edit eatery feature is executed.
<span class="image"><img src="images/EditSequenceDiagram.png" alt="EditSequenceDiagram"></span></p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows the reference sequence diagram for creating an <code>EditEateryDescriptor e</code>.
<span class="image"><img src="images/EditEateryDescriptorSequenceDiagram.png" alt="EditEateryDescriptorSequenceDiagram"></span></p>
</div>
<div class="paragraph">
<p>The reference sequence diagram for creating <code>Eatery edited</code> has been omitted as the steps are the same as the reference sequence diagram for <code>add</code> command above.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">3.1.3. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-replace-or-add-on-to-eatery-s-list-of-tags"><a class="link" href="#aspect-replace-or-add-on-to-eatery-s-list-of-tags">Aspect: Replace or add on to eatery&#8217;s list of tags</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Replace the entire list of tags</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easy to implement.</p>
</li>
<li>
<p>More user-friendly&#8201;&#8212;&#8201;command makes more sense to the user.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons: Need to create additional command to handle adding of tags to the current list of tags.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Adding to the list of tags</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easy to implement.</p>
</li>
<li>
<p>Don&#8217;t need to create an additional command to add tags.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons: Not as user-friendly.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="statistics-feature-code-stats-code"><a class="link" href="#statistics-feature-code-stats-code">3.2. Statistics feature : <code>stats</code></a></h3>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">3.2.1. Implementation</a></h4>
<div class="paragraph">
<p>The stats feature allows the user to generate statistics about the eateries they have visited and reviews they have made at those visited eateries.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the stats mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>EateryList</code> will be initialised with the initial or previous json data stored.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>stats</code> to generate statistics for the current application state. The <code>EatMeParser</code> would return a <code>StatsCommand</code> to execute the command.</p>
</div>
<div class="paragraph">
<p>Step 3. <code>StatsCommand</code> then creates <code>Statistics</code> to generate the different types of statistics needed. To create the different types of statistics, <code>Statistics</code> would, first, sort the eateries in <code>EateryList</code> based on different conditions i.e. categories, total expense, total number of visits. After sorting the eateries, <code>Statistics</code> would then use these sorted lists to generate the appropriate statistics.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user executes the <code>stats</code> command in the Todo mode, <code>StatsCommand</code> would throw a <code>CommandException</code> to the user specifying that the user is in the wrong mode. In addition, if there is no eateries with any reviews in the application at the time of <code>stats</code> execution, the <code>StatsCommand</code> would throw a <code>CommandException</code> error saying that there is no data to generate statistics. Lastly, if there is any error during the generating of statistics, the <code>StatsCommand</code> will throw another <code>CommandException</code> saying that there is an unknown error and the application is unable to generate statistics.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. <code>StatsCommand</code> would then call <code>Model#setStatistics()</code> with <code>Statistics</code> as a a parameter.</p>
</div>
<div class="paragraph">
<p>Step 5. After successfully generating the statistics, <code>StatsCommand</code> will return the <code>CommandResult</code> to the <code>Ui</code>.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the statistics feature is executed.
<span class="image"><img src="images/StatsSequenceDiagram.png" alt="StatsSequenceDiagram"></span></p>
</div>
<div class="paragraph">
<p>Since the statistic feature has a different user interface compared to the other commands i.e. <code>AddCommand</code>, <code>AddTagCommand</code>, etc., it would be useful to explain how the different user interface components work.</p>
</div>
<div class="paragraph">
<p>Step 1. When the <code>Ui</code> receives the <code>CommandResult</code> from <code>StatsCommand</code>, the <code>Ui</code> will call <code>MainWindow#showStats()</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. <code>MainWindow#showStats() will check if `StatsWindow</code> is already open. If it is opened, it will call <code>StatsWindow#initStats()</code> and focuses the window. Else, it will call <code>StatsWindow#initStats()</code> and displays the window.</p>
</div>
<div class="paragraph">
<p>Step 3. In <code>StatsWindow#initStats()</code>, <code>StatsWindow</code> will create a <code>CustomLayeredGraph</code> and <code>CustomPiechart</code> to create the graph and pie chart needed for the statistics report.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the statistics feature shows the statistics to the user.
<span class="image"><img src="images/StatsUiSequenceDiagram.png" alt="StatsUiSequenceDiagram"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">3.2.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-whether-the-statistics-should-auto-update-when-an-eatery-is-added-or-a-review-is-added-to-an-eatery"><a class="link" href="#aspect-whether-the-statistics-should-auto-update-when-an-eatery-is-added-or-a-review-is-added-to-an-eatery">Aspect: Whether the statistics should auto-update when an eatery is added or a review is added to an eatery.</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative 1 (current choice):</strong> Not making the statistics auto-update</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement; don&#8217;t need to refactor existing code to make use of ObservableList and add ListChange listeners.</p>
</li>
<li>
<p>Cons: User would need to call <code>stats</code> command after every addition or change made to the eatery or reviews of an eatery.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative 2: </strong> Making the statistics auto-update</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User would not need to call <code>stats</code> command after every addition or change made to the eatery or reviews of an eatery.</p>
</li>
<li>
<p>Cons: Need to refactor a lot of existing code.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Reason for choosing alternative 1: Although it may be annoying for the user to keep calling <code>stats</code> command after every change made, we realise that since <code>stats</code> acts as a statistics report for the users, users may not call the <code>stats</code> command as often to justify refactoring the entire code. Furthermore, to make a change to the eatery or reviews, the user would still need to minimize <code>StatsWindow</code> and unminimize it to view the auto-updated changes. Hence, the number of steps the user would need to execute to see the change in statistics is the same even for both auto-update and without auto-update.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="review-eatery-feature"><a class="link" href="#review-eatery-feature">3.3. Review Eatery feature</a></h3>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">3.3.1. Implementation</a></h4>
<div class="paragraph">
<p>The review mechanism is facilitated by <code>EateryList</code>.
It is stored internally as a set of reviews along with the other
attributes of an eatery.
Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Eatery#addReview</code>&#8201;&#8212;&#8201;Adds a review to the eatery identified by the user input.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the review mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>EateryList</code> will be initialized with the initial json data stored.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>review 1 &#8230;&#8203;</code> command to add a review to the first Eatery in the address book. The <code>review</code> command will call <code>Eatery#addReview()</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index given is not a valid index (ie, out of bounds or negative), it will return an error to the user rather than attempting to review the Eatery.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the review is missing a <code>Description</code>, <code>Rating</code>, <code>Cost</code> or a <code>Date</code> field, an error will be shown to the user instead of adding the review.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The eatery list now returns a success message upon successfully adding a review to the eatery.</p>
</div>
<div class="paragraph">
<p>The following diagram shows the activities involved.
<span class="image"><img src="images/ReviewActivityDiagram.png" alt="ReviewActivityDiagram"></span></p>
</div>
<div class="paragraph">
<p>The following diagram shows how the method is executed.
<span class="image"><img src="images/ReviewSequenceDiagram.png" alt="ReviewSequenceDiagram"></span></p>
</div>
<div class="sect4">
<h5 id="aspect-how-review-executes"><a class="link" href="#aspect-how-review-executes">Aspect: How review executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative 1 (current choice) </strong>
Adds a review to an eatery&#8217;s list of reviews.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to understand and implement.</p>
</li>
<li>
<p>Cons: The set of reviews of an <code>Eatery</code> is not final, unlike tags.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative 2</strong>
Return a new set of reviews every time a review is added.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Makes the set of reviews final, adhering to the existing model.</p>
</li>
<li>
<p>Cons: Highly inefficient</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-used-to-store-reviews"><a class="link" href="#aspect-data-structure-used-to-store-reviews">Aspect: Data Structure used to store Reviews</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong>
No further nesting of Review field in Eatery.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easily implemented and will not compromise speed.</p>
</li>
<li>
<p>Cons: The OOP model might be different from other Commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Further nesting of Review field in Eatery.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: A better OOP model.</p>
</li>
<li>
<p>Cons: May decrease performance and difficult to implement.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="edit-review-feature"><a class="link" href="#edit-review-feature">3.4. Edit Review feature</a></h3>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">3.4.1. Implementation</a></h4>
<div class="paragraph">
<p>The edit review mechanism is facilitated by <code>EateryList</code>. It makes use of the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EateryList#getActiveEatery</code></p>
</li>
<li>
<p><code>EateryList#getActiveReviews</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the close mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user decides to check the reviews of an eatery by using <code>show</code> command.</p>
</div>
<div class="paragraph">
<p>Step 2. The user then decides to edit the first review of the eatery and executes <code>editreview 1 &#8230;&#8203;</code> with the necessary fields.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If none of the fields entered are different from the existing fields, the user will be shown an error saying that at least one field should be different.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user input is not according to the given format, an error will be shown to the user instead of attempting to edit the review.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The application returns a success message upon successfully editing the review.</p>
</div>
<div class="paragraph">
<p>The following diagram shows the activities involved.
<span class="image"><img src="images/EditReviewActivityDiagram.png" alt="EditReviewActivityDiagram"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">3.4.2. Design Considerations:</a></h4>
<div class="sect4">
<h5 id="aspect-how-edit-review-executes"><a class="link" href="#aspect-how-edit-review-executes">Aspect: How edit review executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative 1 (current choice)</strong>:
When the show command is used, <code>EateryList#setActiveEatery</code> will set the eatery shown as the active eatery.
When the user attempts to edit review, the eatery is accessed using <code>EateryList#getActiveEatery</code>. The reviews are modified by using
<code>EateryList#getActiveReviews</code>, which returns a list of reviews. The changed list is set to the <code>ActiveEatery</code>
by <code>Eatery#setReviews</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to access and edit reviews.</p>
</li>
<li>
<p>Cons: The <code>ActiveEatery</code> is not modified until the <code>show</code> command is used on another eatery.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative 2</strong>:
Operate directly on the list of reviews after using <code>show</code> command and set the changed list to the eatery.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: <code>EditReview</code> is only accessible after using <code>show</code> command.</p>
</li>
<li>
<p>Cons: Difficult to implement and understand.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delete-review-feature"><a class="link" href="#delete-review-feature">3.5. Delete Review feature</a></h3>
<div class="sect3">
<h4 id="implementation-6"><a class="link" href="#implementation-6">3.5.1. Implementation</a></h4>
<div class="paragraph">
<p>The delete review mechanism is facilitated by <code>EateryList</code>. It makes use of the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EateryList#getActiveEatery</code></p>
</li>
<li>
<p><code>EateryList#getActiveReviews</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the close mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user decides to check the reviews of an eatery by using <code>show</code> command.</p>
</div>
<div class="paragraph">
<p>Step 2. The user then decides to delete the first review of the eatery and executes <code>deletereview 1 &#8230;&#8203;</code> .</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index given is not a valid index (ie, out of bounds or negative), it will return an error to the user rather than attempting to close the Eatery.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The application returns a success message upon successfully deleting the review.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">3.5.2. Design Considerations:</a></h4>
<div class="sect4">
<h5 id="aspect-how-delete-review-executes"><a class="link" href="#aspect-how-delete-review-executes">Aspect: How delete review executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative 1 (current choice)</strong>:
When the show command is used, <code>EateryList#setActiveEatery</code> will set the eatery shown as the active eatery.
When the user attempts to delete a review, the eatery is accessed using <code>EateryList#getActiveEatery</code>. The reviews are modified by using
<code>EateryList#getActiveReviews</code>, which returns a list of reviews. The changed list is set to the <code>ActiveEatery</code>
by <code>Eatery#setReviews</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to access and delete reviews.</p>
</li>
<li>
<p>Cons: The <code>ActiveEatery</code> is not modified until the <code>show</code> command is used on another eatery.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative 2</strong>:
Operate directly on the list of reviews after using <code>show</code> command and set the changed list to the eatery.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: <code>DeleteReview</code> is only accessible after using <code>show</code> command.</p>
</li>
<li>
<p>Cons: Difficult to implement and understand.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following diagram shows the use case of review field as a whole.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/ReviewUseCaseDiagram.png" alt="ReviewUseCaseDiagram"></span></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="add-tag-feature"><a class="link" href="#add-tag-feature">3.6. Add Tag feature</a></h3>
<div class="sect3">
<h4 id="implementation-7"><a class="link" href="#implementation-7">3.6.1. Implementation</a></h4>
<div class="paragraph">
<p>The addtag mechanism is facilitated by the EateryList and implement the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EateryList#getFilteredEateryList</code></p>
</li>
<li>
<p><code>EateryList#setEatery</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The effects of add tag are cumulative, ie it does not replace existing tags but adds the given tags.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the addtag mechanism behaves.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application and wants to add tags to the first eatery displayed.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>addtag 1 &#8230;&#8203;</code> to add the required tags to the eatery.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index specified is invalid (negative or out of bounds) or the format of the command is wrong,
an error will be shown to the user.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. If the tags to be added are not associated with eatery previously, they will be added to the eatery.</p>
</div>
<div class="paragraph">
<p>Step 4. AddTag success message is shown to the user.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">3.6.2. Design Considerations:</a></h4>
<div class="sect4">
<h5 id="how-addtag-executes"><a class="link" href="#how-addtag-executes">How AddTag executes:</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Current choice: </strong>
Returns a new Eatery object with the existing and new tags. The tags to be added are checked
if they are already associated with the eatery before adding.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:
Preserves the OOP model of the project and there is no need for setter methods.</p>
</li>
<li>
<p>Cons: Very inefficient to return new Eatery object every time tags are changed.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delete-tag-feature"><a class="link" href="#delete-tag-feature">3.7. Delete Tag feature</a></h3>
<div class="sect3">
<h4 id="implementation-8"><a class="link" href="#implementation-8">3.7.1. Implementation</a></h4>
<div class="paragraph">
<p>The deleteTag mechanism is facilitated by the EateryList and implement the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EateryList#getFilteredEateryList</code></p>
</li>
<li>
<p><code>EateryList#setEatery</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the addtag mechanism behaves.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application and wants to delete tags from the first eatery displayed.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>deletetag 1 &#8230;&#8203;</code> to delete the required tags from the eatery.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index specified is invalid (negative or out of bounds) or the format of the command is wrong,
an error will be shown to the user.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. If the tags to be deleted are not associated with eatery previously, no changes will be made.</p>
</div>
<div class="paragraph">
<p>Step 4. DeleteTag success message is shown to the user.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-7"><a class="link" href="#design-considerations-7">3.7.2. Design Considerations:</a></h4>
<div class="sect4">
<h5 id="how-addtag-executes-2"><a class="link" href="#how-addtag-executes-2">How AddTag executes:</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Current choice: </strong>
Returns a new Eatery object with the existing and new tags. The tags to be deleted are checked
if they are already associated with the eatery before deleting.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:
Preserves the OOP model of the project and there is no need for setter methods.</p>
</li>
<li>
<p>Cons: Very inefficient to return new Eatery object every time tags are changed.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="close-eatery-feature"><a class="link" href="#close-eatery-feature">3.8. Close Eatery feature</a></h3>
<div class="sect3">
<h4 id="implementation-9"><a class="link" href="#implementation-9">3.8.1. Implementation</a></h4>
<div class="paragraph">
<p>The close mechanism is facilitated by <code>EateryList</code>. It implements ReadOnlyEateryList interface with the following operation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EateryList#setEatery()</code>&#8201;&#8212;&#8201;Replaces an Eatery with a modified Eatery specified by the user input.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the close mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>EateryList</code> will be initialized with the initial json data stored.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>close 1</code> command to close the 1st Eatery in the address book.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index given is not a valid index (ie, out of bounds or negative), CloseCommand will throw a CommandException to the user rather than attempting to close the Eatery.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The address book now returns a success message upon successfully closing the Eatery, and the Eatery will be highlighted in red.</p>
</div>
<div class="paragraph">
<p>Step 4. The user then decides that he wants to close another Eatery.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index given points to an Eatery already closed (ie, 1 in this situation), CloseCommand will throw a CommandException to the user rather than attempting to close the Eatery.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>close</code> command works:
image::CloseSequenceDiagram.png[]</p>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new <code>close</code> command:
image::CloseCommitActivityDiagram.png[]</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-8"><a class="link" href="#design-considerations-8">3.8.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-close-executes"><a class="link" href="#aspect-how-close-executes">Aspect: How Close executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Returns a new Eatery with identical fields except for the isOpen field.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Follows pre-exisiting EditCommand implementation.</p>
</li>
<li>
<p>No need for setter methods.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons: Have to return a new object each time a change is made.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Setter method for isOpen field of Eatery.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: No need for extra methods in the flow to change the object.</p>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Breaks pre-existing EditCommand implementation.</p>
</li>
<li>
<p>Need for setter methods.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-close-command"><a class="link" href="#aspect-data-structure-to-support-the-close-command">Aspect: Data structure to support the Close command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Uses a boolean value to keep track if the Eatery is reopened or closed.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easily implemented.</p>
</li>
<li>
<p>Cons: An additional variable to check when executing other commands. Possibility of incorrect manipulation of an Eatery object</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Maintain two separate lists of Eateries for Reopened and Closed.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Closed Eateries stored apart from Reopened Eateries. Commands executed will only affect Eateries stored in a particular list.</p>
</li>
<li>
<p>Cons: Requires proper handling of individual data structures to ensure each list is maintained and updated correctly.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reopen-eatery-feature"><a class="link" href="#reopen-eatery-feature">3.9. Reopen Eatery feature</a></h3>
<div class="sect3">
<h4 id="implementation-10"><a class="link" href="#implementation-10">3.9.1. Implementation</a></h4>
<div class="paragraph">
<p>The reopen mechanism is facilitated by <code>AddressBook</code>. It implements the <code>ReadOnlyAddressBook</code> interface with the following operation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AddressBook#setEatery()</code>&#8201;&#8212;&#8201;Replaces an Eatery with a modified Eatery specified by the user input.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the reopen mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>AddressBook</code> will be initialized with the initial json data stored.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>reopen 1</code> command to close the 1st Eatery in the address book.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index given is not a valid index (ie, out of bounds or negative), ReopenCommand will throw a CommandException to the user rather than attempting to reopen the Eatery.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The address book now returns a success message upon successfully reopening the Eatery, and the Eatery will not longer be highlighted in red.</p>
</div>
<div class="paragraph">
<p>Step 4. The user then decides that he wants to reopen another Eatery.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the index given points to an Eatery already reopened (ie, 1 in this situation), ReopenCommand will throw a CommandException to the user rather than attempting to reopen the Eatery.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>reopen</code> command works:
image::ReopenSequenceDiagram.png[]</p>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new <code>reopen</code> command:
image::ReopenCommitActivityDiagram.png[]</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-9"><a class="link" href="#design-considerations-9">3.9.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-reopen-executes"><a class="link" href="#aspect-how-reopen-executes">Aspect: How Reopen executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Returns a new Eatery with identical fields except for the isOpen field.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Follows pre-exisiting EditCommand implementation.</p>
</li>
<li>
<p>No need for setter methods.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons: Have to return a new object each time a change is made.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Setter method for isOpen field of Eatery.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: No need for extra methods in the flow to change the object.</p>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Breaks pre-existing EditCommand implementation.</p>
</li>
<li>
<p>Need for setter methods.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-reopen-command"><a class="link" href="#aspect-data-structure-to-support-the-reopen-command">Aspect: Data structure to support the Reopen command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Uses a boolean value to keep track if the Eatery is reopened or closed.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easily implemented.</p>
</li>
<li>
<p>Cons: An additional variable to check when executing other commands. Possibility of incorrect manipulation of an Eatery object</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Maintain two separate lists of Eateries for Reopened and Closed.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reopened Eateries stored apart from Closed Eateries. Commands executed will only affect Eateries stored in a particular list.</p>
</li>
<li>
<p>Cons: Requires proper handling of individual data structures to ensure each list is maintained and updated correctly.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="changing-mode-of-eatme-feature"><a class="link" href="#changing-mode-of-eatme-feature">3.10. Changing Mode of EatMe feature</a></h3>
<div class="sect3">
<h4 id="implementation-11"><a class="link" href="#implementation-11">3.10.1. Implementation</a></h4>
<div class="paragraph">
<p>Allows the user to toggle between Main mode and Todo mode. It extends <code>Command</code>, and once mode is switched, all other command functions would be affected.
The mode is determined through the value of a boolean variable named <code>isMainMode</code>.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage of how the mode command behaves.</p>
</div>
<div class="paragraph">
<p>Step 1: The user launches the application. Data from <code>eaterylist</code> will be fetched and will be initialised in Main Mode by default.</p>
</div>
<div class="paragraph">
<p>Step 2: The user execute <code>mode</code> command and the mode of the application will be switched to <code>todo</code> mode, displaying items in the <code>todo</code> list instead.</p>
</div>
<div class="paragraph">
<p>Step 3: The user can execute <code>mode</code> command again, returning the application to <code>main</code> mode, showing the items stored in the <code>main</code> list.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>mode</code> command works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModeCommandSequence.png" alt="ModeCommandSequence">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModeCommandActivity.png" alt="ModeCommandActivity">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-10"><a class="link" href="#design-considerations-10">3.10.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-mode-execute"><a class="link" href="#aspect-how-mode-execute">Aspect: How Mode execute</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Toggle between mode through a boolean value.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy for implementation.</p>
</li>
<li>
<p>Cons: An additional factor to check when executing any other commands; Possibility of mis-manipulation of data.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-mode-command"><a class="link" href="#aspect-data-structure-to-support-mode-command">Aspect: Data structure to support Mode Command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Maintain two separate lists for Main mode and Todo Mode.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Data between the two modes will be separated. Commands executed will only affect data stored in the list for the particular mode.</p>
</li>
<li>
<p>Cons: More effort required for maintenance purposes. Need to make sure that data from main list should not go into todo list, and vice versa</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="news-feed-feature"><a class="link" href="#news-feed-feature">3.11. News Feed Feature</a></h3>
<div class="paragraph">
<p>As people who really love food, we are interested in keeping up-to-date with the latest food trends and newest eateries to try.
The news feed allows the user to save their favorite food blogs to EatMe and have access to the latest food-related articles right from within the app.
Should a food blog become irrelevant, the user also has the option to remove it and no longer display its articles.</p>
</div>
<div class="sect3">
<h4 id="terminology"><a class="link" href="#terminology">3.11.1. Terminology</a></h4>
<div class="paragraph">
<p>Some terms are used in this feature:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Feed</code> - A food blog</p>
</li>
<li>
<p><code>Feed Post</code> - An article from a feed</p>
</li>
<li>
<p><code>News Feed Panel</code> - The right column of the app showing news articles</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="implementation-12"><a class="link" href="#implementation-12">3.11.2. Implementation</a></h4>
<div class="paragraph">
<p>The current news feed supports two commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AddFeed</code> - Add a new feed</p>
</li>
<li>
<p><code>DeleteFeed</code> - Delete a feed and its associated feed posts</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="code-addfeed-code-add-a-new-feed"><a class="link" href="#code-addfeed-code-add-a-new-feed"><code>AddFeed</code> - Add a new feed</a></h5>
<div class="paragraph">
<p>The following activity diagram shows the flow when the user wants to add a new feed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddFeedActivityDiagram.png" alt="AddFeedActivityDiagram">
</div>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application.</p>
</div>
<div class="paragraph">
<p>Step 2. EatMe fetches the latest feed posts from the user&#8217;s existing feeds and displays them to the user in the news feed panel.</p>
</div>
<div class="paragraph">
<p>Step 3. The user finds a new favorite food blog called <em>Eatbook</em> and wants to add it into the app. The user executes <code>addfeed \n Eatbook \a <a href="https://eatbook.sg/feed" class="bare">https://eatbook.sg/feed</a></code> to add the new feed. <code>AddFeedCommand</code> calls <code>Model#addFeed</code> with the new feed object, which will in turn add the new feed to the Model&#8217;s internal feed list.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>AddFeed</code> command executes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddFeedSequenceDiagram.png" alt="AddFeedSequenceDiagram">
</div>
</div>
</div>
<div class="sect4">
<h5 id="code-deletefeed-code-delete-a-feed-and-its-associated-feed-posts"><a class="link" href="#code-deletefeed-code-delete-a-feed-and-its-associated-feed-posts"><code>DeleteFeed</code> - Delete a feed and its associated feed posts</a></h5>
<div class="paragraph">
<p>The following activity diagram shows the flow when the user wants to delete a feed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteFeedActivityDiagram.png" alt="DeleteFeedActivityDiagram">
</div>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application.</p>
</div>
<div class="paragraph">
<p>Step 2. EatMe fetches the latest feed posts from the user&#8217;s existing feeds and displays them to the user in the news feed panel.</p>
</div>
<div class="paragraph">
<p>Step 3. The user is no longer interested in the food blog <em>Eatbook</em> and wants to delete it from the app. The user executes <code>deletefeed \n Eatbook</code> to delete the feed. <code>DeleteFeedCommand</code> calls <code>Model#deleteFeed</code> with the feed to delete, which will in turn remove the feed to the Model&#8217;s internal feed list.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>DeleteFeed</code> command executes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteFeedSequenceDiagram.png" alt="DeleteFeedSequenceDiagram">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-11"><a class="link" href="#design-considerations-11">3.11.3. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-storage-of-feed-list"><a class="link" href="#aspect-storage-of-feed-list">Aspect: Storage of feed list</a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: Store the feed list in the existing Eatery list JSON file.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Single JSON file for all of the user&#8217;s data (eateries, todos, feeds).</p>
</li>
<li>
<p>Cons: When sharing your JSON file with another user, the feeds would be transferred as well - Poor user experience because favorite food blogs are a personal choice and should not be transferred when sharing eateries.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2 (current choice): Store the feed list as a separate JSON file.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Separation of eatery-related and feed-related information into two separate JSON files - Allows sharing of eateries without affecting feeds.</p>
</li>
<li>
<p>Cons: Two separate files - Minor inconvenience if the user wants to backup their data to another location.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="aspect-offline-behavior-of-news-feed"><a class="link" href="#aspect-offline-behavior-of-news-feed">3.11.4. Aspect: Offline behavior of news feed</a></h4>
<div class="ulist">
<ul>
<li>
<p>Alternative 1 (current implementation): Store the feed posts from the last successful update in the feed list JSON file</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Allows for offline access to feed posts.</p>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Feed posts may be outdated if the user has not opened the app with Internet connectivity for a long time.</p>
</li>
<li>
<p>Larger feed list JSON file size.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Show an error message when offline.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Small and simple feed list JSON file.</p>
</li>
<li>
<p>Cons: Unable to view feed posts when offline.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="saving-todo-eatery-feature"><a class="link" href="#saving-todo-eatery-feature">3.12. Saving Todo Eatery feature</a></h3>
<div class="sect3">
<h4 id="implementation-13"><a class="link" href="#implementation-13">3.12.1. Implementation</a></h4>
<div class="paragraph">
<p>This command allows the user to save an eatery from the todo list to the main eatery list. It extends <code>Command</code>.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage of how the SaveTodo Command behaves.</p>
</div>
<div class="paragraph">
<p>Step 1: The user launches the application. Data from <code>EateryList</code> will be fetched and initialised in main mode by default.</p>
</div>
<div class="paragraph">
<p>Step 2: The user executes mode command and the mode of the application will be switched to Todo mode, displaying items in the todo list instead.</p>
</div>
<div class="paragraph">
<p>Step 3: The user can execute <code>save 1</code>, indicating to the system the index of eatery to be saved.</p>
</div>
<div class="paragraph">
<p>Step 4: The eatery in the todo list will be removed and an add command will be constructed in the CommandBox for the user to input any necessary fields before adding.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>SaveTodo</code> command works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SaveTodoCommandSequence.png" alt="SaveTodoCommandSequence">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SaveTodoCommandActivity.png" alt="SaveTodoCommandActivity">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-12"><a class="link" href="#design-considerations-12">3.12.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-savetodo-execute"><a class="link" href="#aspect-how-savetodo-execute">Aspect: How SaveTodo execute</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Construct the commands as a string before displaying to the user.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User-friendly. User will be able to add the eatery to the main list with minimum effort.</p>
</li>
<li>
<p>Cons: Unable to save directly to the main list from todo list. Possible situation can be that the user did not add the new eatery after executing <code>saveTodo</code> command.
This situation will result in the user requiring to type the whole <code>add</code> command on his own as information will not be saved.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong> Allow eatery to have the same attributes fields as eatery in main list</p>
<div class="ulist">
<ul>
<li>
<p>Pros: As eatery in todo list and main list have the same attributes, it will be possible to <code>save</code> the eatery directly to the main list without further input from the user.</p>
</li>
<li>
<p>Cons: User will be required to include additional field when adding an eatery in the todo list. Field entered may be irrelevant as user had yet to visit the eatery.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-savetodo-command"><a class="link" href="#aspect-data-structure-to-support-savetodo-command">Aspect: Data structure to support SaveTodo Command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> No additional data structure is required for <code>SaveTodo</code> command</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="load-friend-s-eaterylist-feature"><a class="link" href="#load-friend-s-eaterylist-feature">3.13. Load friend&#8217;s EateryList feature</a></h3>
<div class="sect3">
<h4 id="implementation-14"><a class="link" href="#implementation-14">3.13.1. Implementation</a></h4>
<div class="paragraph">
<p>The load mechanism is facilitated by <code>ModelManager</code>. It implements the <code>Model</code> interface with the following operation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#setUserPrefs()</code>&#8201;&#8212;&#8201;Replaces the existing UserPrefs with a modified UserPrefs specified by the user input.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the load mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>EateryList</code> will be initialized with the initial json data stored.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>load \u Alice</code> command to change the <code>UserPrefs</code> of the <code>ModelManger</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the command is missing the username (i.e. <code>load \u</code>), LoadCommandParser will throw an ParserException to the user with an error message specifying that the command parameters are incorrect, and an example usage of the command.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the command is missing the username and the prefix (i.e. <code>load</code>), this will be interpreted as loading the owner&#8217;s own Eatery List.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The Eatery List now returns a success message upon successfully changing the <code>UserPrefs</code>, and prompts the user to relaunch the application.</p>
</div>
<div class="paragraph">
<p>Step 4. The user then decides that he wants to change his <code>UserPrefs</code> to another friend&#8217;s one. Before exiting the application, the user can still enter <code>load \u Bob</code> command to change the <code>UserPrefs</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user attempts to load a file that has already been set in the <code>UserPrefs</code>, the LoadCommand will throw a CommandException to the user with an error message specifying that the <code>UserPrefs</code> has already been changed.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user attempts to load a file that does not exist in the default filepath, the LoadCommand will throw a CommandException to the user with an error message to prompt him to check that the file exists.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides that he wants to change his <code>UserPrefs</code> back to his own instead. Before exiting the application, the user can still enter <code>load</code> command to reset the <code>UserPrefs</code> of the <code>ModelManage</code> back to his own Eatery List.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>load</code> command works:
image::LoadSequenceDiagram.png[]</p>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new <code>load</code> command:
image::LoadCommitActivityDiagram.png[]</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-13"><a class="link" href="#design-considerations-13">3.13.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-load-executes"><a class="link" href="#aspect-how-load-executes">Aspect: How Load executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Modifies the existing model in the Eatery List.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easily implemented without needing to relaunch the GUI.</p>
</li>
<li>
<p>Cons: Require the application to be terminated for the storage to save UserPrefs.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Creates a new model to replace the current one.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to implement the loading of file without relaunching the application.</p>
</li>
<li>
<p>Cons: Need to relaunch the GUI so that the new file can be seen.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-user-experience-to-execute-load"><a class="link" href="#aspect-user-experience-to-execute-load">Aspect: User Experience to execute Load</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> The user has to relaunch the application.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easily implemented.</p>
</li>
<li>
<p>Clear to the user that the UserPaths has been changed.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons: Additional work from the user</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Relaunch the GUI</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The user does not need to reload the application.</p>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Harder to implement.</p>
</li>
<li>
<p>Might confuse the user if the UserPaths has been changed. Especially if the friend&#8217;s EateryList is similar to the user (i.e. same school).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">3.14. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 3.15, &#8220;Configuration&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by EatMe</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">3.15. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">4. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Documentation.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">5. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Testing.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">6. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="DevOps.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>has a need to manage a significant number of <a href="#eatery">eateries</a></p>
<div class="ulist">
<ul>
<li>
<p>budget</p>
</li>
<li>
<p><a href="#category">category</a></p>
</li>
<li>
<p>location</p>
</li>
</ul>
</div>
</li>
<li>
<p>prefer desktop apps over other types</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: manage eateries faster than a typical mouse/GUI driven app with statistics of key details such as budget, category and location</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">food blogger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep a list of outstanding cafes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clear them in an orderly fashion.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep a list of affordable eateries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save money</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">person with many food allergies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of dishes I have ordered before</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">avoid ordering hazardous food</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">foodie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remember places</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">share this experience with my family and friends</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">digital nomad</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag places with free power + wifi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sit there for extended periods of time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">working adult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view the menu beforehand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save time from thinking what to eat</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>EatMe</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-removing-an-eatery-from-todo" class="discrete">Use case: Removing an eatery from todo</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to view his todo list</p>
</li>
<li>
<p>EatMe toggles to the todo mode</p>
</li>
<li>
<p>User requests to mark an eatery as visited in the list</p>
</li>
<li>
<p>EatMe shifts the data over</p>
</li>
<li>
<p>EatMe toggles to the main mode</p>
</li>
<li>
<p>EatMe requests user for whatever information left that is required before saving in the main mode</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given eatery is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. EatMe shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>6a. The given information is of the wrong format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>6a1. EatMe shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 8.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-tagging-an-eatery-in-main" class="discrete">Use case: Tagging an eatery in main</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add a tag to an eatery</p>
</li>
<li>
<p>EatMe updates the eatery accordingly</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>1b. The user gives invalid information.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. EatMe shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-viewing-a-menu-beforehand" class="discrete">Use case: Viewing a menu beforehand</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User searches for an eatery</p>
</li>
<li>
<p>EatMe displays the eatery accordingly</p>
</li>
<li>
<p>User reads the entry for the menu</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>1b. The user gives invalid information.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. EatMe shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>11</code> or above installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 eateries without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>Main functionalities (CRUD) should work without WiFi.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
<dt class="hdlist1"><a id="eatery"></a> Eatery</dt>
<dd>
<p>Any place that serves food open to the public (ie, restaurants, cafes, roadside, pushcart)</p>
</dd>
<dt class="hdlist1"><a id="category"></a> Category</dt>
<dd>
<p>Broadly contains cuisines (ie, Chinese, International)</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Soon</strong></p>
</div>
<div class="paragraph">
<p>Author: Beginner AB</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Shows trending restaurants nearby</p>
</li>
<li>
<p>Hide option</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unable to delete lists</p>
</li>
<li>
<p>Unable to search</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">G.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder.</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with a set of sample contacts. The window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the app by double-clicking the jar file.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="saving-an-eatery"><a class="link" href="#saving-an-eatery">G.2. Saving an eatery</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Saving an eatery while eateries are present in todo list.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Application is on todo mode.</p>
</li>
<li>
<p>Todo list is not empty</p>
</li>
</ol>
</div>
</li>
<li>
<p>Test case: Save 1<br>
Expected: The application will toggle to main mode and a add command will be display in the commandbox.</p>
</li>
<li>
<p>Test Case: Save 0<br>
Expected: An error message will be shown in the status message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="deleting-an-eatery"><a class="link" href="#deleting-an-eatery">G.3. Deleting an eatery</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting an eatery while all eateries are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all eateries using the list command. Multiple eateries in the list.</p>
</li>
<li>
<p>Test case: delete 1<br>
Expected: First contact is deleted from the list. Details of the deleted contact shown in the status message. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: delete 0<br>
Expected: No eatery is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: delete, delete x (where x is larger than the list size) <em>{give more}</em><br></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="deleting-an-eatery-2"><a class="link" href="#deleting-an-eatery-2">G.4. Deleting an Eatery</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting an <code>Eatery</code> while all <code>Eateries</code> are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all <code>Eateries</code> using the list command. Multiple <code>Eateries</code> in the list.</p>
</li>
<li>
<p>Test case: <code>delete 1</code><br>
Expected: First <code>Eatery</code> is deleted from the list. Details of the deleted <code>Eatery</code> shown in the status message. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code>delete 0</code><br>
Expected: No <code>Eatery</code> is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: <code>delete</code>, <code>delete x</code> (where x is larger than the list size, or x is a non-integer)<br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases to be added }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="saving-data"><a class="link" href="#saving-data">G.5. Saving data</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[Proposed] Dealing with missing/corrupted data files</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: json file type present in a data file where the EatMe app is.</p>
</li>
<li>
<p>Test case: Running the application with json file type with incorrect format<br>
Expected: Application starts with a blank <code>Eatery</code> list panel. Error details shown in the status message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases to be added }</em></p>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 14:34:31 UTC</div></div></div></body></html>